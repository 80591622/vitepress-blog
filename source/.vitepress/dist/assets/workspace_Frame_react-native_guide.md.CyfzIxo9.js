import{_ as s,c as n,o as a,a5 as l}from"./chunks/framework.BQQWXjGs.js";const b=JSON.parse('{"title":"RN基本用法","description":"","frontmatter":{},"headers":[],"relativePath":"workspace/Frame/react-native/guide.md","filePath":"workspace/Frame/react-native/guide.md","lastUpdated":1713942612000}'),p={name:"workspace/Frame/react-native/guide.md"},o=l(`<h1 id="rn基本用法" tabindex="-1">RN基本用法 <a class="header-anchor" href="#rn基本用法" aria-label="Permalink to &quot;RN基本用法&quot;">​</a></h1><h2 id="react-native区分安卓-ios平台" tabindex="-1">React Native区分安卓/iOS平台 <a class="header-anchor" href="#react-native区分安卓-ios平台" aria-label="Permalink to &quot;React Native区分安卓/iOS平台&quot;">​</a></h2><p><a href="https://reactnative.cn/docs/platform-specific-code/" target="_blank" rel="noreferrer">特定平台代码</a></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">Platform</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#98C379;"> &#39;react-native&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">JSON</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stringify</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">Platform</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#98C379;">&quot;OS&quot;</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;android&quot;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&quot;Version&quot;</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">25</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&quot;is Testing&quot;</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">false</span><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="rn样式" tabindex="-1">RN样式 <a class="header-anchor" href="#rn样式" aria-label="Permalink to &quot;RN样式&quot;">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> {</span><span style="color:#E5C07B;">height</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">width</span><span style="color:#ABB2BF;">} </span><span style="color:#56B6C2;">=</span><span style="color:#E5C07B;"> Dimensions</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">get</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;window&#39;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> styles</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> StyleSheet</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">create</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-css line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;"> //</span><span style="color:#C678DD;">添加阴影</span></span>
<span class="line"><span style="color:#C678DD;"> shadowColor: &#39;0px 6px 10px 0px rgba(0</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;">0</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;">0</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;">0</span><span style="color:#D19A66;">.1</span><span style="color:#ABB2BF;">)&#39;,</span></span>
<span class="line"><span style="color:#C678DD;"> shadowOffset:</span><span style="color:#ABB2BF;"> {width: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, height: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">},</span></span>
<span class="line"><span style="color:#C678DD;"> shadowOpacity: 0</span><span style="color:#D19A66;">.1</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;"> //</span><span style="color:#C678DD;">平移</span></span>
<span class="line"><span style="color:#C678DD;"> transform: [{translateY: 100}]</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;"> //</span><span style="color:#C678DD;">边框</span></span>
<span class="line"><span style="color:#C678DD;"> borderColor: &#39;</span><span style="color:#FFFFFF;">#F4F4F4&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#C678DD;"> borderWidth: 1</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#C678DD;"> </span></span>
<span class="line"><span style="color:#ABB2BF;"> //</span><span style="color:#C678DD;">圆角       </span></span>
<span class="line"><span style="color:#C678DD;"> borderTopLeftRadius: 20</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#C678DD;"> borderTopRightRadius: 20</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#C678DD;"> borderBottomRightRadius: 20</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#C678DD;"> borderBottomLeftRadius: 20</span><span style="color:#ABB2BF;">,</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="rn带有点击事件的标签" tabindex="-1">RN带有点击事件的标签 <a class="header-anchor" href="#rn带有点击事件的标签" aria-label="Permalink to &quot;RN带有点击事件的标签&quot;">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;">//没有任何视觉反馈,只支持一个子节点（不能没有子节点也不能多于一个),如果你希望包含多个子组件，可以用一个View来包装它们。</span></span>
<span class="line"><span style="color:#ABB2BF;"> &lt;</span><span style="color:#E5C07B;">TouchableWithoutFeedback</span><span style="color:#D19A66;font-style:italic;"> onPress</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#ABB2BF;">() </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {}</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;">/&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">//封装的视图的不透明度会降低,默认为0.2</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">TouchableOpacity</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;"> style</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E5C07B;">styles</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">button</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;"> onPress</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#ABB2BF;">()</span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;">{}</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;"> activeOpacity</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#D19A66;">0</span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;">默认0</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">2</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E5C07B;">Text</span><span style="color:#ABB2BF;">&gt; Touch Here &lt;/</span><span style="color:#E5C07B;">Text</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E5C07B;">TouchableOpacity</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">//封装的视图的不透明度会降低，同时会有一个底层的颜色透过而被用户看到，使得视图变暗或变亮。</span></span>
<span class="line"><span style="color:#ABB2BF;"> &lt;</span><span style="color:#E5C07B;">TouchableHighlight</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">  activeOpacity</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#D19A66;">0</span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;">默认为0</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">85</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">  underlayColor</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#98C379;">&#39;#ccc&#39;</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">  onPress</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">_onPressButton</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">  &gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E5C07B;">FastImage</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">    style</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E5C07B;">styles</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">button</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">    source</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#61AFEF;">require</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;./myButton.png&#39;</span><span style="color:#ABB2BF;">)</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">  /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E5C07B;">TouchableHighlight</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="输入框" tabindex="-1">输入框 <a class="header-anchor" href="#输入框" aria-label="Permalink to &quot;输入框&quot;">​</a></h2><p><a href="https://reactnative.cn/docs/textinput/" target="_blank" rel="noreferrer">textinput</a></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">TextInput</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">     style</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E5C07B;">styles</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">postTitle</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">     autoFocus</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">     multiline</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">     underlineColorAndroid</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;transparent&#39;</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">     placeholder</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;欢迎您的意见和建议…&#39;</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">     placeholderTextColor</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;#9B9B9B&#39;</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">     value</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E06C75;">note</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">     onChangeText</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E06C75;">setPostTitle</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">//居顶显示</span></span>
<span class="line"><span style="color:#E06C75;">textAlignVertical</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;top&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="获取盒子的位置信息" tabindex="-1">获取盒子的位置信息 <a class="header-anchor" href="#获取盒子的位置信息" aria-label="Permalink to &quot;获取盒子的位置信息&quot;">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;"> layout</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> () </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">    const</span><span style="color:#E5C07B;"> handle</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> findNodeHandle</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">progressBar</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">    new</span><span style="color:#E5C07B;"> Promise</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">resolve</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">        UIManager</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">measure</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">handle</span><span style="color:#ABB2BF;">, (</span><span style="color:#E06C75;font-style:italic;">x</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">y</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">width</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">height</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">pageX</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">pageY</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#61AFEF;">            resolve</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#E06C75;">                x</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">                y</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">                width</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">                height</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">                pageX</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">                pageY</span></span>
<span class="line"><span style="color:#ABB2BF;">            });</span></span>
<span class="line"><span style="color:#ABB2BF;">        });</span></span>
<span class="line"><span style="color:#ABB2BF;">    }).</span><span style="color:#61AFEF;">then</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">val</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">        console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">val</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    })</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">View</span><span style="color:#D19A66;font-style:italic;"> ref</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">c</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">   this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">progressBar</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> c</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span><span style="color:#C678DD;">}</span><span style="color:#D19A66;font-style:italic;"> onLayout</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">layout</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;"> /&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="页面通信" tabindex="-1">页面通信 <a class="header-anchor" href="#页面通信" aria-label="Permalink to &quot;页面通信&quot;">​</a></h2><p><strong>方法一:callback函数刷新</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">//接收页面</span></span>
<span class="line"><span style="color:#61AFEF;">_onPressBack</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">()</span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#E5C07B;">    this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">props</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">navigation</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">navigate</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;list&#39;</span><span style="color:#ABB2BF;">,{</span></span>
<span class="line"><span style="color:#61AFEF;">        refresh</span><span style="color:#ABB2BF;">:()</span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#E5C07B;">         this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">_refresh</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">        },</span></span>
<span class="line"><span style="color:#ABB2BF;">    })</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"><span style="color:#61AFEF;">_refresh</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">()</span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#E5C07B;">    console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;refresh&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;">    alert</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;刷新哈!&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">TouchableOpacity</span><span style="color:#D19A66;font-style:italic;"> onPress</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">_onPressBack</span><span style="color:#C678DD;">}</span><span style="color:#D19A66;font-style:italic;"> activeOpacity</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#D19A66;">0.8</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E5C07B;">FastImage</span><span style="color:#D19A66;font-style:italic;"> source</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E06C75;">backIcon</span><span style="color:#C678DD;">}</span><span style="color:#D19A66;font-style:italic;"> style</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E5C07B;">styles</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">backIcon</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;">/&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E5C07B;">TouchableOpacity</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">//发送页面</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#61AFEF;"> goBack</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">()</span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#E5C07B;">     this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">props</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">navigation</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">goBack</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">     this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">props</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">navigation</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">state</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">params</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">refresh</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">TouchableOpacity</span><span style="color:#D19A66;font-style:italic;"> onPress</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E06C75;">goBack</span><span style="color:#C678DD;">}</span><span style="color:#D19A66;font-style:italic;"> activeOpacity</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#D19A66;">0.8</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E5C07B;">FastImage</span><span style="color:#D19A66;font-style:italic;"> source</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E06C75;">backIcon</span><span style="color:#C678DD;">}</span><span style="color:#D19A66;font-style:italic;"> style</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E5C07B;">styles</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">backIcon</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;">/&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E5C07B;">TouchableOpacity</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p><strong>方法二:发送通知DeviceEventEmitter刷新</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;">//接收页面</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E06C75;">    View</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    Text</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    FlatList</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    TouchableOpacity</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    DeviceEventEmitter</span></span>
<span class="line"><span style="color:#ABB2BF;">} </span><span style="color:#C678DD;">from</span><span style="color:#98C379;"> &#39;react-native&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;"> componentDidMount</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#E5C07B;">    this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">queryList</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">    this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">refreshSubScription</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> DeviceEventEmitter</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">addListener</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;refresh&#39;</span><span style="color:#ABB2BF;">, ({</span><span style="color:#E06C75;font-style:italic;">refresh</span><span style="color:#ABB2BF;">}) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">refresh</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">            this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">queryList</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">    })</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">componentWillUnmount</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#E5C07B;">    this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">refreshSubScription</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">remove</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">//发送页面</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#61AFEF;"> goBack</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">()</span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#E5C07B;">    DeviceEventEmitter</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">emit</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;refresh&#39;</span><span style="color:#ABB2BF;">, {</span></span>
<span class="line"><span style="color:#98C379;">        &#39;refresh&#39;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    });</span></span>
<span class="line"><span style="color:#E5C07B;">    NavigationService</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">goBack</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">TouchableOpacity</span><span style="color:#D19A66;font-style:italic;"> onPress</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E06C75;">goBack</span><span style="color:#C678DD;">}</span><span style="color:#D19A66;font-style:italic;"> activeOpacity</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#D19A66;">0.8</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E5C07B;">FastImage</span><span style="color:#D19A66;font-style:italic;"> source</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E06C75;">backIcon</span><span style="color:#C678DD;">}</span><span style="color:#D19A66;font-style:italic;"> style</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E5C07B;">styles</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">backIcon</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;">/&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E5C07B;">TouchableOpacity</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="rn插件" tabindex="-1">RN插件 <a class="header-anchor" href="#rn插件" aria-label="Permalink to &quot;RN插件&quot;">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> {</span><span style="color:#E06C75;">TabView</span><span style="color:#ABB2BF;">} </span><span style="color:#C678DD;">from</span><span style="color:#98C379;"> &quot;react-native-tab-view&quot;</span><span style="color:#ABB2BF;">;    </span><span style="color:#7F848E;font-style:italic;">//tab切换组件</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> LinearGradient</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &#39;react-native-linear-gradient&#39;</span><span style="color:#7F848E;font-style:italic;">    //渐变色插件</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">LinearGradient</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">  colors</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#ABB2BF;">[</span><span style="color:#98C379;">&#39;#FE6E50&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;#FF4542&#39;</span><span style="color:#ABB2BF;">]</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">  start</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#ABB2BF;">{</span><span style="color:#E06C75;">x</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">}</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">  end</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#ABB2BF;">{</span><span style="color:#E06C75;">x</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">}</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E5C07B;">Text</span><span style="color:#D19A66;font-style:italic;"> style</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E5C07B;">styles</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">sure_text</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;">&gt;---&lt;/</span><span style="color:#E5C07B;">Text</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E5C07B;">LinearGradient</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> FastImage</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;react-native-fast-image&quot;</span><span style="color:#ABB2BF;">;   </span><span style="color:#7F848E;font-style:italic;">//图片的组件</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">FastImage</span><span style="color:#D19A66;font-style:italic;"> source</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E06C75;">本地</span><span style="color:#C678DD;">?</span><span style="color:#E06C75;">本地</span><span style="color:#C678DD;">:</span><span style="color:#ABB2BF;">{</span><span style="color:#E06C75;">uri</span><span style="color:#ABB2BF;">:</span><span style="color:#E06C75;">url</span><span style="color:#ABB2BF;">}</span><span style="color:#C678DD;">}</span><span style="color:#D19A66;font-style:italic;"> style</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E5C07B;">styles</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">img</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;">/&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> DeviceInfo</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &#39;react-native-device-info&#39;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">//获取设备的信息</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;">async</span><span style="color:#61AFEF;"> componentWillMount</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;api版本:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getAPILevel</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;品牌:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getBrand</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;当前应用名称:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getApplicationName</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;应用编译版本号:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getBuildNumber</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;获取应用程序包标识符:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getBundleId</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;运营商名称:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getCarrier</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;设备所处国家:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getDeviceCountry</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;设备ID:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getDeviceId</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;设备地区:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getDeviceLocale</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;设备名称:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getDeviceName</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;获取应用初始安装时间:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getFirstInstallTime</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;设备字体大小:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getFontScale</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;剩余存储容量(字节):&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getFreeDiskStorage</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getIPAddress</span><span style="color:#ABB2BF;">().</span><span style="color:#61AFEF;">then</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">res</span><span style="color:#C678DD;"> =&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">        console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;设备当前网络地址IP:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">res</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    });</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;应用程序实例ID:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getInstanceID</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;获取应用上次更新时间:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getLastUpdateTime</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getMACAddress</span><span style="color:#ABB2BF;">().</span><span style="color:#61AFEF;">then</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">res</span><span style="color:#C678DD;"> =&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">        console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;网络适配器MAC地址:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">res</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    });</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;设备制造商:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getManufacturer</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;获取JVM试图使用的最大内存量(字节):&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getMaxMemory</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;获取设备模式:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getModel</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;获取电话号码:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getPhoneNumber</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;获取应用程序可读版本:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getReadableVersion</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;设备唯一序列号:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getSerialNumber</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;获取系统名称:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getSystemName</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;获取系统版本:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getSystemVersion</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;系统时区:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getTimezone</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;完整磁盘空间大小(字节):&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getTotalDiskCapacity</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;设备总内存(字节):&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getTotalMemory</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;设备唯一ID:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getUniqueID</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;设备用户代理:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getUserAgent</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;设备版本:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getVersion</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;用户偏好是否设置为24小时格式:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">is24Hour</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;程序是否允许在模拟器中:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">isEmulator</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;">    await</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;是否是平板电脑:&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">DeviceInfo</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">isTablet</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> {</span><span style="color:#E06C75;">BoxShadow</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;">BorderShadow</span><span style="color:#ABB2BF;">} </span><span style="color:#C678DD;">from</span><span style="color:#98C379;"> &#39;react-native-shadow&#39;</span><span style="color:#7F848E;font-style:italic;">     //解决安卓阴影</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> ProgressBar</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &#39;react-native-progress/Bar&#39;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">//进度条</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">ProgressBar</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">    color</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#98C379;">&#39;red&#39;</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">    animated</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#D19A66;">true</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">    width</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E06C75;">width</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">    height</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#D19A66;">2</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">    borderWidth</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#D19A66;">0</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">    progress</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#E06C75;">progress</span><span style="color:#C678DD;">}</span><span style="color:#7F848E;font-style:italic;"> //0-1</span></span>
<span class="line"><span style="color:#ABB2BF;">/&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">NavigationEvents</span><span style="color:#ABB2BF;"> ,</span><span style="color:#E06C75;">NavigationActions</span><span style="color:#ABB2BF;"> , </span><span style="color:#E06C75;">StackActions</span><span style="color:#ABB2BF;">，</span><span style="color:#E06C75;">withNavigation</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#98C379;"> &#39;react-navigation&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;">onWillFocus</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">{</span><span style="color:#E06C75;font-style:italic;">payload</span><span style="color:#C678DD;"> =&gt;</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;will focus&#39;</span><span style="color:#ABB2BF;">)}</span><span style="color:#7F848E;font-style:italic;">//将要被点击</span></span>
<span class="line"><span style="color:#E06C75;">onDidFocus</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">{</span><span style="color:#E06C75;font-style:italic;">payload</span><span style="color:#C678DD;"> =&gt;</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">imagePicker</span><span style="color:#ABB2BF;">() }</span><span style="color:#7F848E;font-style:italic;">//被点击</span></span>
<span class="line"><span style="color:#E06C75;">onWillBlur</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">{</span><span style="color:#E06C75;font-style:italic;">payload</span><span style="color:#C678DD;"> =&gt;</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;will blur&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">payload</span><span style="color:#ABB2BF;">)}</span><span style="color:#7F848E;font-style:italic;">//将要离开</span></span>
<span class="line"><span style="color:#E06C75;">onDidBlur</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">{</span><span style="color:#E06C75;font-style:italic;">payload</span><span style="color:#C678DD;"> =&gt;</span><span style="color:#E5C07B;"> console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;did blur&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">payload</span><span style="color:#ABB2BF;">)}</span><span style="color:#7F848E;font-style:italic;">//离开</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">//清空所有的路由</span></span>
<span class="line"><span style="color:#C678DD;"> const</span><span style="color:#E5C07B;"> resetAction</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> StackActions</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">reset</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#E06C75;">   index</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    actions</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#E5C07B;">        NavigationActions</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">navigate</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">routeName</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Tab&quot;</span><span style="color:#ABB2BF;">}),</span></span>
<span class="line"><span style="color:#E5C07B;">        NavigationActions</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">navigate</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">routeName</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;LoginPage&quot;</span><span style="color:#ABB2BF;">}),</span></span>
<span class="line"><span style="color:#ABB2BF;">    ],</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span>
<span class="line"><span style="color:#E5C07B;">navigation</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">dispatch</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">resetAction</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">//navigation在pages声明过得页面才会添加，否则可以用withNavigation(Index)高阶下</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="屏蔽黄屏" tabindex="-1">屏蔽黄屏 <a class="header-anchor" href="#屏蔽黄屏" aria-label="Permalink to &quot;屏蔽黄屏&quot;">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">YellowBox</span><span style="color:#ABB2BF;">} </span><span style="color:#C678DD;">from</span><span style="color:#98C379;"> &#39;react-native&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">YellowBox</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">ignoreWarnings</span><span style="color:#ABB2BF;">([</span></span>
<span class="line"><span style="color:#98C379;">    &#39;Warning: isMounted(...) is deprecated&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &#39;Module RCTImageLoader requires main queue setup&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &#39;Module RNFetchBlob requires main queue setup&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &#39;Module AudioRecorderManager requires main queue setup&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &#39;Module RCTVideoManager requires main queue setup&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &#39;Class RCTCxxModule was not exported&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &#39;RCTBridge required dispatch_sync to load RCTDevLoadingView.&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &#39;Require cycle:&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">]);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="阻止安卓快速双击退出应用" tabindex="-1">阻止安卓快速双击退出应用 <a class="header-anchor" href="#阻止安卓快速双击退出应用" aria-label="Permalink to &quot;阻止安卓快速双击退出应用&quot;">​</a></h2><p><strong>需求</strong></p><ul><li>需要监听安卓的返回键，点击安卓返回键的时候可以正常返回</li><li>但是当在tabs的几个页面中按返回键做如下的几个处理 <ul><li>如果在首页tab，那么在连续点击两次返回键后退出应用</li><li>在其他tab，按返回键不做处理</li></ul></li></ul><p><strong>app.js</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E06C75;">  Platform</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  BackHandler</span></span>
<span class="line"><span style="color:#ABB2BF;">} </span><span style="color:#C678DD;">from</span><span style="color:#98C379;"> &#39;react-native&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;"> componentWillMount</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">Platform</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">OS</span><span style="color:#56B6C2;"> ===</span><span style="color:#98C379;"> &#39;android&#39;</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">      BackHandler</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">addEventListener</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;hardwareBackPress&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">onAndroidBackPress</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">  componentWillUnmount</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">Platform</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">OS</span><span style="color:#56B6C2;"> ===</span><span style="color:#98C379;"> &#39;android&#39;</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">      BackHandler</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">removeEventListener</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;hardwareBackPress&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">onAndroidBackPress</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> //BACK物理按键监听</span></span>
<span class="line"><span style="color:#61AFEF;">  onAndroidBackPress</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> () </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">    console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">store</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">dataFixStore</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">route</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">    const</span><span style="color:#ABB2BF;"> {</span><span style="color:#E5C07B;">route</span><span style="color:#ABB2BF;">} </span><span style="color:#56B6C2;">=</span><span style="color:#E5C07B;"> store</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">dataFixStore</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">route</span><span style="color:#56B6C2;"> !=</span><span style="color:#98C379;"> &#39;Home&#39;</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">      return</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;">//true 表示返回上一页</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">      if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lastBackPressed</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lastBackPressed</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 500</span><span style="color:#56B6C2;"> &gt;=</span><span style="color:#E5C07B;"> Date</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">now</span><span style="color:#ABB2BF;">()) {</span></span>
<span class="line"><span style="color:#C678DD;">          return</span><span style="color:#D19A66;"> false</span><span style="color:#ABB2BF;">;       </span></span>
<span class="line"><span style="color:#ABB2BF;">       }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        //最近0.5秒内按过back键，可以退出应用。</span></span>
<span class="line"><span style="color:#E5C07B;">      this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lastBackPressed</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Date</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">now</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#C678DD;">      return</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p><strong>Home.jsx</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E5C07B;">View</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">        &lt;</span><span style="color:#E5C07B;">NavigationEvents</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic;">            onDidFocus</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">{</span><span style="color:#ABB2BF;"> ()</span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">              //使用redux把带有tab的页面存起来，如果有对应的就让其回到桌面</span></span>
<span class="line"><span style="color:#61AFEF;">                 dispatch</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#E06C75;">		            type</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;setRouter/changeItem&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">		            payload</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">		                router</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;Home&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    }</span></span>
<span class="line"><span style="color:#ABB2BF;">                 });</span></span>
<span class="line"><span style="color:#ABB2BF;">              }</span><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">            /&gt;    </span></span>
<span class="line"><span style="color:#ABB2BF;">   &lt;/</span><span style="color:#E5C07B;">View</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="禁止ios返回手势" tabindex="-1">禁止IOS返回手势 <a class="header-anchor" href="#禁止ios返回手势" aria-label="Permalink to &quot;禁止IOS返回手势&quot;">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;">//禁止所有页面手势返回</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> RootStackNavigator</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> StackNavigator</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;">  {</span></span>
<span class="line"><span style="color:#E06C75;">    Login</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">      screen</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">LoginScreen</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#E06C75;">    Main</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">      screen</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">MainDrawerNavigator</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">  {</span></span>
<span class="line"><span style="color:#E06C75;">    index</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    initialRouteName</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;Login&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    headerMode</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;none&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    navigationOptions</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">      gesturesEnabled</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">false</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 禁用某个页面的手势</span></span>
<span class="line"><span style="color:#E06C75;">static</span><span style="color:#E06C75;"> navigationOptions</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">     ...</span></span>
<span class="line"><span style="color:#E06C75;">     gesturesEnabled</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">false</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div>`,38),e=[o];function r(c,t,B,y,i,F){return a(),n("div",null,e)}const C=s(p,[["render",r]]);export{b as __pageData,C as default};
