import{_ as s,c as n,o as a,a5 as l}from"./chunks/framework.BQQWXjGs.js";const A=JSON.parse('{"title":"终端实现console输出不同颜色","description":"","frontmatter":{},"headers":[],"relativePath":"workspace/Server/node/node-console.md","filePath":"workspace/Server/node/node-console.md","lastUpdated":1713942612000}'),p={name:"workspace/Server/node/node-console.md"},o=l(`<h1 id="终端实现console输出不同颜色" tabindex="-1">终端实现console输出不同颜色 <a class="header-anchor" href="#终端实现console输出不同颜色" aria-label="Permalink to &quot;终端实现console输出不同颜色&quot;">​</a></h1><p><strong>在浏览器的控制塔也适用</strong></p><h3 id="使用方式" tabindex="-1">使用方式 <a class="header-anchor" href="#使用方式" aria-label="Permalink to &quot;使用方式&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[31m%s</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[0m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;这是红色&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[36m%s</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[0m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;这是青色&#39;</span><span style="color:#ABB2BF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="规则说明" tabindex="-1">规则说明 <a class="header-anchor" href="#规则说明" aria-label="Permalink to &quot;规则说明&quot;">​</a></h4><ul><li><strong><code>\\x1B[31m</code> 是一个转义序列，它将被您的终端拦截并指示它切换到红色。<code>\\x1B</code>是不可打印控制字符 的代码escape。仅处理颜色和样式的转义序列也称为 <a href="https://en.wikipedia.org/wiki/ANSI_escape_code#Colors" target="_blank" rel="noreferrer">ANSI转义码</a> 并且是标准化的，因此它们（应该）可以在任何平台上工作。这里可以指定多种样式<code>\\x1B[31m\\x1B[42m</code>；</strong></li><li><strong><code>%s</code> 是字符串（第二个参数）被注入的位置；上述代码还可以这样写：</strong></li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[31m这是红色</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[0m&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[36m这是青色</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[0m&#39;</span><span style="color:#ABB2BF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong><code>\\x1B[0m</code> 表示重置终端颜色，使其在此之后不再继续成为所选颜色；</strong>「推荐种用法」</li></ul><h3 id="封装" tabindex="-1">封装 <a class="header-anchor" href="#封装" aria-label="Permalink to &quot;封装&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 颜色参考</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> styles</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#98C379;">    &#39;reset&#39;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[0m&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &#39;bright&#39;</span><span style="color:#ABB2BF;">    : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[1m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 亮色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;grey&#39;</span><span style="color:#ABB2BF;">      : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[2m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 灰色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;italic&#39;</span><span style="color:#ABB2BF;">    : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[3m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 斜体</span></span>
<span class="line"><span style="color:#98C379;">    &#39;underline&#39;</span><span style="color:#ABB2BF;"> : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[4m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 下划线</span></span>
<span class="line"><span style="color:#98C379;">    &#39;reverse&#39;</span><span style="color:#ABB2BF;">   : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[7m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 反向</span></span>
<span class="line"><span style="color:#98C379;">    &#39;hidden&#39;</span><span style="color:#ABB2BF;">    : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[8m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 隐藏</span></span>
<span class="line"><span style="color:#98C379;">    &#39;black&#39;</span><span style="color:#ABB2BF;">     : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[30m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 黑色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;red&#39;</span><span style="color:#ABB2BF;">       : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[31m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 红色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;green&#39;</span><span style="color:#ABB2BF;">     : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[32m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 绿色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;yellow&#39;</span><span style="color:#ABB2BF;">    : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[33m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 黄色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;blue&#39;</span><span style="color:#ABB2BF;">      : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[34m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 蓝色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;magenta&#39;</span><span style="color:#ABB2BF;">   : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[35m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 品红</span></span>
<span class="line"><span style="color:#98C379;">    &#39;cyan&#39;</span><span style="color:#ABB2BF;">      : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[36m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 青色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;white&#39;</span><span style="color:#ABB2BF;">     : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[37m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 白色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;blackBG&#39;</span><span style="color:#ABB2BF;">   : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[40m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 背景色为黑色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;redBG&#39;</span><span style="color:#ABB2BF;">     : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[41m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 背景色为红色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;greenBG&#39;</span><span style="color:#ABB2BF;">   : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[42m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 背景色为绿色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;yellowBG&#39;</span><span style="color:#ABB2BF;">  : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[43m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 背景色为黄色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;blueBG&#39;</span><span style="color:#ABB2BF;">    : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[44m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 背景色为蓝色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;magentaBG&#39;</span><span style="color:#ABB2BF;"> : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[45m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 背景色为品红</span></span>
<span class="line"><span style="color:#98C379;">    &#39;cyanBG&#39;</span><span style="color:#ABB2BF;">    : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[46m&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 背景色为青色</span></span>
<span class="line"><span style="color:#98C379;">    &#39;whiteBG&#39;</span><span style="color:#ABB2BF;">   : </span><span style="color:#98C379;">&#39;</span><span style="color:#56B6C2;">\\x1B</span><span style="color:#98C379;">[47m&#39;</span><span style="color:#7F848E;font-style:italic;"> // 背景色为白色</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">function</span><span style="color:#61AFEF;"> colors</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">keys</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">source</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">    var</span><span style="color:#E06C75;"> values</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &#39;&#39;</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">typeof</span><span style="color:#E06C75;"> keys</span><span style="color:#56B6C2;"> ===</span><span style="color:#98C379;"> &#39;string&#39;</span><span style="color:#ABB2BF;">){</span></span>
<span class="line"><span style="color:#E06C75;">        values</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> styles</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">keys</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">        keys</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">forEach</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">key</span><span style="color:#C678DD;"> =&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E06C75;">            values</span><span style="color:#56B6C2;"> +=</span><span style="color:#E06C75;"> styles</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">key</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">        });</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#E06C75;"> values</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> source</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> styles</span><span style="color:#ABB2BF;">[</span><span style="color:#98C379;">&#39;reset&#39;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 使用</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">colors</span><span style="color:#ABB2BF;">([</span><span style="color:#98C379;">&#39;red&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&#39;greenBG&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&#39;underline&#39;</span><span style="color:#ABB2BF;">], </span><span style="color:#98C379;">&#39;这是红色、绿色背景、下划线&#39;</span><span style="color:#ABB2BF;">))</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p><strong>也可以使用 <code>chalk</code></strong></p><p>node的终端样式库</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> chalk</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> require</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;chalk&#39;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">chalk</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">blue</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;Hello world!&#39;</span><span style="color:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">chalk</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">blue</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">bgRed</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">bold</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;Hello world!&#39;</span><span style="color:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">chalk</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">blue</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;Hello&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;World!&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;Foo&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;bar&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;biz&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;baz&#39;</span><span style="color:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">chalk</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">red</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;Hello&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">chalk</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">underline</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">bgBlue</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;world&#39;</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">+</span><span style="color:#98C379;"> &#39;!&#39;</span><span style="color:#ABB2BF;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,13),e=[o];function c(r,t,B,y,i,C){return a(),n("div",null,e)}const b=s(p,[["render",c]]);export{A as __pageData,b as default};
